
@using PhotoManager.ViewModel

@{
    List<AlbumAssignedPhotosViewModel> albumsToPhoto = ViewBag.AlbumsAssignedList;
    List<AlbumAssignedPhotosViewModel> assignedAlbums = albumsToPhoto.Where(a => a.AlbumAssigned).ToList();
    List<AlbumAssignedPhotosViewModel> notAssignedAlbums = albumsToPhoto.Where(a => !a.AlbumAssigned).ToList();
}

<div class="row">
    <div class="col-md-6 list-group form-group">
        @if (assignedAlbums.Count != 0)
        {
            <h4>Albums with this photo</h4>
            foreach (var album in assignedAlbums)
            {

                <div class="list-group-item form-control" id="@album.AlbumID">
                    @Html.ActionLink(" ", "ShowAlbum", "Albums", new { albumTitle = @album.AlbumTitle }, new { @class = "glyphicon glyphicon-th-large", target = "_blank" })
                    @album.AlbumTitle
                </div>

            }
        }
    </div>
</div>

@* Ajax method use here*@
@using (Html.BeginForm("AddPhotoToAlbum", "Photos"))
{
    @Html.AntiForgeryToken()
    <div class="row">
        @Html.Hidden("id", ViewData["PhotoID"])
        <div class="col-md-6 list-group form-group">

            @if (notAssignedAlbums.Count != 0)
            {
                <h4>Add photo to albums</h4>
                foreach (var album in notAssignedAlbums)
                {
                    <div class="list-group-item form-control" id="@album.AlbumID">
                        <span class="glyphicon glyphicon-plus"></span>
                        <input type="checkbox" name="selectedAlbums" value="@album.AlbumID" @(Html.Raw(album.AlbumAssigned ? "checked=\"checked\"" : "")) />
                        @album.AlbumTitle
                    </div>
                }
            }
        </div>
    </div>
    <input type="submit" id="updateAlbumsToPhoto" value="Update albums" class="btn btn-primary" />
}



@*@using PhotoManager.ViewModel

    @{
        List<AlbumAssignedPhotosViewModel> albumsAssignedPhoto = ViewBag.AlbumsAssignedList;
    }

    <div class="row">

        <div class="col-md-6 list-group form-group">
            <h4>Albums with this photo</h4>
            @foreach (var album in albumsAssignedPhoto)
            {
                if (@album.AlbumAssigned)
                {
                    <div class="list-group-item list-group-item-success form-control" id="@album.AlbumID">
                        <input type="checkbox" name="selectedAlbums" value="@album.AlbumID">
                        <span class="glyphicon glyphicon-remove"></span>
                        @album.AlbumTitle
                    </div>
                }
            }
        </div>

        <div class="col-md-6 list-group form-group">
            <h4>Add photo to albums</h4>
            @foreach (var album in albumsAssignedPhoto)
            {
                if (!@album.AlbumAssigned)
                {
                    <div class="list-group-item form-control" id="@album.AlbumID">
                        <span class="glyphicon glyphicon-plus"></span>
                        @album.AlbumTitle
                    </div>
                }
            }
        </div>

    </div>
    <input type="submit" id="updateAlbumsToPhoto" value="Update albums" class="btn btn-primary" />*@


